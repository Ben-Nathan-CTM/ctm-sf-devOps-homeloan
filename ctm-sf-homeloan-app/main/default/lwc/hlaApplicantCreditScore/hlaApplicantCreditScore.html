<template>
  <template lwc:if={isLoading}>
    <lightning-spinner
      alternative-text="Loading"
      size="small"
      variant="brand"
    ></lightning-spinner>
  </template>
  <template lwc:elseif={hasCreditScore}>
    <div class="slds-grid slds-wrap">
      <div class="slds-col slds-size_1-of-1">
        <div class="slds-card slds-box slds-box_x-small">
          <div class="slds-box slds-theme_shade">
            <article class="slds-tile slds-media">
              <div class="slds-media__figure">
                <lightning-progress-ring
                  size="large"
                  value={creditScorePerThousand}
                >
                </lightning-progress-ring>
              </div>
              <div class="slds-media__body">
                <h3 class="slds-tile__title slds-truncate" title="Credit Score">
                  <a href="#" onclick={handleCreditScoreClick}>Credit Score</a>
                </h3>
                <div class="slds-tile__detail">
                  <strong class="slds-text-heading_large">{creditScore}</strong>
                </div>
              </div>
            </article>
          </div>
        </div>
      </div>
      <div
        class="slds-col slds-size_1-of-1 slds-theme_shade table-container slds-m-bottom_medium"
      >
        <div class="slds-p-around_small">
          <h6 slot="title">
            <lightning-icon
              icon-name="custom:custom13"
              title="Credit Accounts"
            ></lightning-icon>
            <strong class="slds-p-left_small">Credit Accounts</strong>
          </h6>
        </div>
        <template lwc:if={hasCreditAccounts}>
          <div class="table-details slds-border_top">
            <lightning-datatable
              key-field="id"
              data={creditAccountRecords}
              columns={creditAccountColumns}
              column-widths-mode="fixed"
              hide-checkbox-column
              resize-column-disabled
            >
            </lightning-datatable>
          </div>
        </template>
        <template lwc:else>{NO_CREDIT_ACCOUNTS_MESSAGE}</template>
      </div>

      <div
        class="slds-col slds-size_1-of-1 slds-theme_shade table-container slds-m-bottom_medium"
      >
        <div class="slds-p-around_small">
          <h6 slot="title">
            <lightning-icon
              icon-name="custom:custom22"
              title="Credit Enquiries"
            ></lightning-icon>
            <strong class="slds-p-left_small">Credit Enquiries</strong>
          </h6>
        </div>
        <template lwc:if={hasCreditEnquiries}>
          <div class="table-details slds-border_top">
            <lightning-datatable
              key-field="id"
              data={creditEnquiriesRecords}
              columns={creditEnquiriesColumns}
              column-widths-mode="fixed"
              hide-checkbox-column
            >
            </lightning-datatable>
          </div>
        </template>
        <template lwc:else>{NO_CREDIT_ENQUIRIES_MESSAGE}</template>
      </div>

      <div
        class="slds-col slds-size_1-of-1 slds-theme_shade table-container slds-m-bottom_medium"
      >
        <div class="slds-p-around_small">
          <h6 slot="title">
            <lightning-icon
              icon-name="custom:custom91"
              title="Credit Defaults"
            ></lightning-icon>
            <strong class="slds-p-left_small">Credit Defaults</strong>
          </h6>
        </div>
        <template lwc:if={hasCreditDefaults}>
          <div class="table-details slds-border_top">
            <lightning-datatable
              key-field="id"
              data={creditDefaultsRecords}
              columns={creditDefaultsColumns}
              column-widths-mode="fixed"
              hide-checkbox-column
            >
            </lightning-datatable>
          </div>
        </template>
        <template lwc:else>{NO_CREDIT_DEFAULTS_MESSAGE}</template>
      </div>

      <div
        class="slds-col slds-size_1-of-1 slds-theme_shade table-container slds-m-bottom_medium"
      >
        <div class="slds-p-around_small">
          <h6 slot="title">
            <lightning-icon
              icon-name="custom:custom17"
              title="Late Payments"
            ></lightning-icon>
            <strong class="slds-p-left_small">Late Payments</strong>
          </h6>
        </div>
        <template lwc:if={hasLatePayments}>
          <div class="table-details slds-border_top">
            <lightning-datatable
              key-field="id"
              data={latePaymentsRecords}
              columns={latePaymentsColumns}
              column-widths-mode="fixed"
              hide-checkbox-column
            >
            </lightning-datatable>
          </div>
        </template>
        <template lwc:else>{NO_LATE_PAYMENTS_MESSAGE}</template>
      </div>

      <div
        class="slds-col slds-size_1-of-1 slds-theme_shade table-container slds-m-bottom_medium"
      >
        <div class="slds-p-around_small">
          <h6 slot="title">
            <lightning-icon
              icon-name="custom:custom16"
              title="Court Actions"
            ></lightning-icon>
            <strong class="slds-p-left_small">Court Actions</strong>
          </h6>
        </div>
        <template lwc:if={hasCourtActions}>
          <div class="table-details slds-border_top">
            <lightning-datatable
              key-field="id"
              data={courtActionRecords}
              columns={courtActionColumns}
              column-widths-mode="fixed"
              hide-checkbox-column
            >
            </lightning-datatable>
          </div>
        </template>
        <template lwc:else>{NO_COURT_ACTIONS_MESSAGE}</template>
      </div>

      <div
        class="slds-col slds-size_1-of-1 slds-theme_shade table-container slds-m-bottom_medium"
      >
        <div class="slds-p-around_small">
          <h6 slot="title">
            <lightning-icon
              icon-name="custom:custom77"
              title="Bankruptcy Actions"
            ></lightning-icon>
            <strong class="slds-p-left_small">Bankruptcy Actions</strong>
          </h6>
        </div>
        <template lwc:if={hasBankruptcyActions}>
          <div class="table-details slds-border_top">
            <lightning-datatable
              key-field="id"
              data={bankruptcyActionsRecords}
              columns={bankruptcyActionsColumns}
              column-widths-mode="fixed"
              hide-checkbox-column
            >
            </lightning-datatable>
          </div>
        </template>
        <template lwc:else>{NO_BANKRUPTCY_ACTIONS_MESSAGE}</template>
      </div>
    </div>
  </template>
  <template lwc:else>
    <div class="slds-box slds-theme_shade">
      <span>No Credit Score Found</span>
    </div>
  </template>
</template>
